<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reference &mdash; MyHDL v0.6 documentation</title>
    <link rel="stylesheet" href="../_static/myhdl.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '0.6',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="MyHDL v0.6 documentation" href="../index.html" />
    <link rel="up" title="The MyHDL manual" href="index.html" />
    <link rel="prev" title="Conversion examples" href="conversion_examples.html" /> 
  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 5px 5px 2px 15px">
<a href="http://www.myhdl.org">
    <img src="../_static/myhdl_logo_header.png" border=0 alt="MyHDL" />
</a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="conversion_examples.html" title="Conversion examples"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">MyHDL v0.6 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">The MyHDL manual</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference" href="">Reference</a><ul>
<li><a class="reference" href="#simulation">Simulation</a><ul>
<li><a class="reference" href="#the-simulation-class">The <tt class="docutils literal"><span class="pre">Simulation</span></tt> class</a></li>
<li><a class="reference" href="#simulation-support-functions">Simulation support functions</a></li>
<li><a class="reference" href="#waveform-tracing">Waveform tracing</a></li>
</ul>
</li>
<li><a class="reference" href="#modeling">Modeling</a><ul>
<li><a class="reference" href="#the-signal-class">The <tt class="docutils literal"><span class="pre">Signal</span></tt> class</a></li>
<li><a class="reference" href="#myhdl-generators-and-trigger-objects">MyHDL generators and trigger objects</a></li>
<li><a class="reference" href="#decorator-functions">Decorator functions</a></li>
<li><a class="reference" href="#the-intbv-class">The <tt class="docutils literal"><span class="pre">intbv</span></tt> class</a></li>
<li><a class="reference" href="#miscellaneous-modeling-support-functions">Miscellaneous modeling support functions</a></li>
</ul>
</li>
<li><a class="reference" href="#co-simulation">Co-simulation</a><ul>
<li><a class="reference" href="#myhdl">MyHDL</a></li>
<li><a class="reference" href="#verilog">Verilog</a></li>
</ul>
</li>
<li><a class="reference" href="#conversion-to-verilog-and-vhdl">Conversion to Verilog and VHDL</a><ul>
<li><a class="reference" href="#conversion">Conversion</a></li>
<li><a class="reference" href="#user-defined-verilog-and-vhdl-code">User-defined Verilog and VHDL code</a></li>
</ul>
</li>
<li><a class="reference" href="#module-myhdl.conversion">Conversion output verification</a><ul>
<li><a class="reference" href="#verification-interface">Verification interface</a></li>
<li><a class="reference" href="#hdl-simulator-registration">HDL simulator registration</a></li>
<li><a class="reference" href="#preregistered-hdl-simulators">Preregistered HDL simulators</a><ul>
<li><a class="reference" href="#ghdl">GHDL</a></li>
<li><a class="reference" href="#icarus">Icarus</a></li>
<li><a class="reference" href="#cver">cver</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="conversion_examples.html" title="previous chapter">Conversion examples</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/manual/reference.txt">Show Source</a></li>
            </ul>
          <h3>Quick search</h3>
            <form class="search" action="../search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  
  <div class="section" id="reference">
<span id="ref"></span><span id="module-myhdl"></span><h1>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h1>
<p>MyHDL is implemented as a Python package called <tt class="xref docutils literal"><span class="pre">myhdl</span></tt>. This chapter
describes the objects that are exported by this package.</p>
<div class="section" id="simulation">
<span id="ref-sim"></span><h2>Simulation<a class="headerlink" href="#simulation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-simulation-class">
<span id="ref-simclass"></span><h3>The <a title="myhdl.Simulation" class="reference" href="#myhdl.Simulation"><tt class="xref docutils literal"><span class="pre">Simulation</span></tt></a> class<a class="headerlink" href="#the-simulation-class" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="myhdl.Simulation">
<!--[myhdl.Simulation]-->class <tt class="descclassname">myhdl.</tt><tt class="descname">Simulation</tt><big>(</big><em>arg</em><span class="optional">[</span>, <em>arg ...</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.Simulation" title="Permalink to this definition">¶</a></dt>
<dd>Class to construct a new simulation. Each argument should be a MyHDL instance.
In MyHDL, an instance is recursively defined as being either a sequence of
instances, or a MyHDL generator, or a Cosimulation object. See section
<a class="reference" href="#ref-gen"><em>MyHDL generators and trigger objects</em></a> for the definition of MyHDL generators and their interaction with
a <a title="myhdl.Simulation" class="reference" href="#myhdl.Simulation"><tt class="xref docutils literal"><span class="pre">Simulation</span></tt></a> object.  See Section <a class="reference" href="#ref-cosim"><em>Co-simulation</em></a> for the
<a title="myhdl.Cosimulation" class="reference" href="#myhdl.Cosimulation"><tt class="xref docutils literal"><span class="pre">Cosimulation</span></tt></a> object.  At most one <a title="myhdl.Cosimulation" class="reference" href="#myhdl.Cosimulation"><tt class="xref docutils literal"><span class="pre">Cosimulation</span></tt></a> object can be
passed to a <a title="myhdl.Simulation" class="reference" href="#myhdl.Simulation"><tt class="xref docutils literal"><span class="pre">Simulation</span></tt></a> constructor.</dd></dl>

<p>A <a title="myhdl.Simulation" class="reference" href="#myhdl.Simulation"><tt class="xref docutils literal"><span class="pre">Simulation</span></tt></a> object has the following method:</p>
<dl class="method">
<dt id="myhdl.Simulation.run">
<!--[myhdl.Simulation.run]--><tt class="descclassname">Simulation.</tt><tt class="descname">run</tt><big>(</big><span class="optional">[</span><em>duration</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.Simulation.run" title="Permalink to this definition">¶</a></dt>
<dd>Run the simulation forever (by default) or for a specified duration.</dd></dl>

</div>
<div class="section" id="simulation-support-functions">
<span id="ref-simsupport"></span><h3>Simulation support functions<a class="headerlink" href="#simulation-support-functions" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="myhdl.now">
<!--[myhdl.now]--><tt class="descclassname">myhdl.</tt><tt class="descname">now</tt><big>(</big><big>)</big><a class="headerlink" href="#myhdl.now" title="Permalink to this definition">¶</a></dt>
<dd>Returns the current simulation time.</dd></dl>

<dl class="exception">
<dt id="myhdl.StopSimulation">
<!--[myhdl.StopSimulation]-->exception <tt class="descclassname">myhdl.</tt><tt class="descname">StopSimulation</tt><a class="headerlink" href="#myhdl.StopSimulation" title="Permalink to this definition">¶</a></dt>
<dd>Base exception that is caught by the <tt class="docutils literal"><span class="pre">Simulation.run()</span></tt> method to stop a
simulation.</dd></dl>

</div>
<div class="section" id="waveform-tracing">
<span id="ref-trace"></span><h3>Waveform tracing<a class="headerlink" href="#waveform-tracing" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="myhdl.traceSignals">
<!--[myhdl.traceSignals]--><tt class="descclassname">myhdl.</tt><tt class="descname">traceSignals</tt><big>(</big><em>func</em><span class="optional">[</span>, <em>*args</em><span class="optional">]</span><span class="optional">[</span>, <em>**kwargs</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.traceSignals" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables signal tracing to a VCD file for waveform viewing. <em>func</em> is a function
that returns an instance. <a title="myhdl.traceSignals" class="reference" href="#myhdl.traceSignals"><tt class="xref docutils literal"><span class="pre">traceSignals()</span></tt></a> calls <em>func</em> under its control
and passes <em>*args</em> and <em>**kwargs</em> to the call. In this way, it finds the
hierarchy and the signals to be traced.</p>
<p>The return value is the same as would be returned by the call <tt class="docutils literal"><span class="pre">func(*args,</span>
<span class="pre">**kwargs)</span></tt>.  The top-level instance name and the basename of the VCD output
filename is <tt class="docutils literal"><span class="pre">func.func_name</span></tt> by default. If the VCD file exists already, it
will be moved to a backup file by attaching a timestamp to it, before creating
the new file.</p>
</dd></dl>

<p>The <tt class="docutils literal"><span class="pre">traceSignals</span></tt> callable has the following attribute:</p>
<dl class="attribute">
<dt id="myhdl.traceSignals.name">
<!--[myhdl.traceSignals.name]--><tt class="descclassname">traceSignals.</tt><tt class="descname">name</tt><a class="headerlink" href="#myhdl.traceSignals.name" title="Permalink to this definition">¶</a></dt>
<dd>This attribute is used to overwrite the default top-level instance name and the
basename of the VCD output filename.</dd></dl>

</div>
</div>
<div class="section" id="modeling">
<span id="ref-model"></span><h2>Modeling<a class="headerlink" href="#modeling" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-signal-class">
<span id="ref-sig"></span><h3>The <a title="myhdl.Signal" class="reference" href="#myhdl.Signal"><tt class="xref docutils literal"><span class="pre">Signal</span></tt></a> class<a class="headerlink" href="#the-signal-class" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="myhdl.Signal">
<!--[myhdl.Signal]-->class <tt class="descclassname">myhdl.</tt><tt class="descname">Signal</tt><big>(</big><span class="optional">[</span><em>val=None</em><span class="optional">]</span><span class="optional">[</span>, <em>delay=0</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.Signal" title="Permalink to this definition">¶</a></dt>
<dd>This class is used to construct a new signal and to initialize its value to
<em>val</em>. Optionally, a delay can be specified.</dd></dl>

<p>A <a title="myhdl.Signal" class="reference" href="#myhdl.Signal"><tt class="xref docutils literal"><span class="pre">Signal</span></tt></a> object has the following attributes:</p>
<dl class="attribute">
<dt id="myhdl.Signal.posedge">
<!--[myhdl.Signal.posedge]--><tt class="descclassname">Signal.</tt><tt class="descname">posedge</tt><a class="headerlink" href="#myhdl.Signal.posedge" title="Permalink to this definition">¶</a></dt>
<dd>Attribute that represents the positive edge of a signal, to be used in
sensitivity lists.</dd></dl>

<dl class="attribute">
<dt id="myhdl.Signal.negedge">
<!--[myhdl.Signal.negedge]--><tt class="descclassname">Signal.</tt><tt class="descname">negedge</tt><a class="headerlink" href="#myhdl.Signal.negedge" title="Permalink to this definition">¶</a></dt>
<dd>Attribute that represents the negative edge of a signal, to be used in
sensitivity lists.</dd></dl>

<dl class="attribute">
<dt id="myhdl.Signal.next">
<!--[myhdl.Signal.next]--><tt class="descclassname">Signal.</tt><tt class="descname">next</tt><a class="headerlink" href="#myhdl.Signal.next" title="Permalink to this definition">¶</a></dt>
<dd>Read-write attribute that represents the next value of the signal.</dd></dl>

<dl class="attribute">
<dt id="myhdl.Signal.val">
<!--[myhdl.Signal.val]--><tt class="descclassname">Signal.</tt><tt class="descname">val</tt><a class="headerlink" href="#myhdl.Signal.val" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only attribute that represents the current value of the signal.</p>
<p>This attribute is always available to access the current value; however in many
practical case it will not be needed. Whenever there is no ambiguity, the Signal
object&#8217;s current value is used implicitly. In particular, all Python&#8217;s standard
numeric, bit-wise, logical and comparison operators are implemented on a Signal
object by delegating to its current value. The exception is augmented
assignment. These operators are not implemented as they would break the rule
that the current value should be a read-only attribute. In addition, when a
Signal object is assigned to the <tt class="docutils literal"><span class="pre">next</span></tt> attribute of another Signal object,
its current value is assigned instead.</p>
</dd></dl>

<dl class="attribute">
<dt id="myhdl.Signal.min">
<!--[myhdl.Signal.min]--><tt class="descclassname">Signal.</tt><tt class="descname">min</tt><a class="headerlink" href="#myhdl.Signal.min" title="Permalink to this definition">¶</a></dt>
<dd>Read-only attribute that is the minimum value (inclusive) of a numeric signal,
or <em>None</em> for no minimum.</dd></dl>

<dl class="attribute">
<dt id="myhdl.Signal.max">
<!--[myhdl.Signal.max]--><tt class="descclassname">Signal.</tt><tt class="descname">max</tt><a class="headerlink" href="#myhdl.Signal.max" title="Permalink to this definition">¶</a></dt>
<dd>Read-only attribute that is the maximum value (exclusive) of a numeric signal,
or <em>None</em> for no  maximum.</dd></dl>

<dl class="attribute">
<dt id="myhdl.Signal.driven">
<!--[myhdl.Signal.driven]--><tt class="descclassname">Signal.</tt><tt class="descname">driven</tt><a class="headerlink" href="#myhdl.Signal.driven" title="Permalink to this definition">¶</a></dt>
<dd><p>Writable attribute that can be used to indicate that the signal is supposed to
be driven from the MyHDL code, and how it should be declared in Verilog after
conversion. The allowed values are <tt class="docutils literal"><span class="pre">'reg'</span></tt> and <tt class="docutils literal"><span class="pre">'wire'</span></tt>.</p>
<p>This attribute is useful when the Verilog converter cannot infer automatically
whether and how a signal is driven. This occurs when the signal is driven from
user-defined Verilog code.</p>
</dd></dl>

</div>
<div class="section" id="myhdl-generators-and-trigger-objects">
<span id="ref-gen"></span><h3>MyHDL generators and trigger objects<a class="headerlink" href="#myhdl-generators-and-trigger-objects" title="Permalink to this headline">¶</a></h3>
<p id="index-71">MyHDL generators are standard Python generators with specialized
<tt class="xref docutils literal"><span class="pre">yield</span></tt> statements. In hardware description languages, the equivalent
statements are called  <em>sensitivity lists</em>. The general format of
<tt class="xref docutils literal"><span class="pre">yield</span></tt> statements in in MyHDL generators is:</p>
<p><tt class="xref docutils literal"><span class="pre">yield</span></tt> clause [, clause ...]</p>
<p>When a generator executes a <tt class="xref docutils literal"><span class="pre">yield</span></tt> statement, its execution is
suspended at that point. At the same time, each <em>clause</em> is a <em>trigger object</em>
which defines the condition upon which the generator should be resumed. However,
per invocation of a <tt class="xref docutils literal"><span class="pre">yield</span></tt> statement, the generator resumes exactly
once, regardless of the number of clauses. This happens on the first trigger
that occurs.</p>
<p>In this section, the trigger objects and their functionality will be described.</p>
<p>Some MyHDL objects that are described elsewhere can directly be used as trigger
objects. In particular, a <a title="myhdl.Signal" class="reference" href="#myhdl.Signal"><tt class="xref docutils literal"><span class="pre">Signal</span></tt></a> can be used as a trigger object. Whenever a
signal changes value, the generator resumes. Likewise, the objects referred to
by the signal attributes <tt class="docutils literal"><span class="pre">posedge</span></tt> and <tt class="docutils literal"><span class="pre">negedge</span></tt> are trigger objects. The
generator resumes on the occurrence of a positive or a negative edge on the
signal, respectively. An edge occurs when there is a change from false to true
(positive) or vice versa (negative). For the full description of the
<a title="myhdl.Signal" class="reference" href="#myhdl.Signal"><tt class="xref docutils literal"><span class="pre">Signal</span></tt></a> class and its attributes, see section <a class="reference" href="#ref-sig"><em>The Signal class</em></a>.</p>
<p>Furthermore, MyHDL generators can be used as clauses in <tt class="docutils literal"><span class="pre">yield</span></tt> statements.
Such a generator is forked, and starts operating immediately, while the original
generator waits for it to complete. The original generator resumes when the
forked generator returns.</p>
<p>In addition, the following functions return trigger objects:</p>
<dl class="function">
<dt id="myhdl.delay">
<!--[myhdl.delay]--><tt class="descclassname">myhdl.</tt><tt class="descname">delay</tt><big>(</big><em>t</em><big>)</big><a class="headerlink" href="#myhdl.delay" title="Permalink to this definition">¶</a></dt>
<dd>Return a trigger object that specifies that the generator should resume after a
delay <em>t</em>.</dd></dl>

<dl class="function">
<dt id="myhdl.join">
<!--[myhdl.join]--><tt class="descclassname">myhdl.</tt><tt class="descname">join</tt><big>(</big><em>arg</em><span class="optional">[</span>, <em>arg ...</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.join" title="Permalink to this definition">¶</a></dt>
<dd>Join a number of trigger objects together and return a joined trigger object.
The effect is that the joined trigger object will trigger when <em>all</em> of its
arguments have triggered.</dd></dl>

<p>Finally, as a special case, the Python <tt class="xref docutils literal"><span class="pre">None</span></tt> object can be present in a
<tt class="docutils literal"><span class="pre">yield</span></tt> statement. It is the do-nothing trigger object. The generator
immediately resumes, as if no <tt class="docutils literal"><span class="pre">yield</span></tt> statement were present. This can be
useful if the <tt class="docutils literal"><span class="pre">yield</span></tt> statement also has generator clauses: those generators
are forked, while the original generator resumes immediately.</p>
</div>
<div class="section" id="decorator-functions">
<span id="ref-deco"></span><h3>Decorator functions<a class="headerlink" href="#decorator-functions" title="Permalink to this headline">¶</a></h3>
<p>MyHDL defines a number of decorator functions, that make it easier to create
generators from local generator functions.</p>
<dl class="function">
<dt id="myhdl.instance">
<!--[myhdl.instance]--><tt class="descclassname">myhdl.</tt><tt class="descname">instance</tt><big>(</big><big>)</big><a class="headerlink" href="#myhdl.instance" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a title="myhdl.instance" class="reference" href="#myhdl.instance"><tt class="xref docutils literal"><span class="pre">instance()</span></tt></a> decorator is the most general decorator.  It automatically
creates a generator by calling the decorated generator function.</p>
<p>It is used as follows:</p>
<div class="highlight-python"><pre>def top(...):
    ...
    @instance
    def inst():
        &lt;generator body&gt;
    ...
    return inst, ...</pre>
</div>
<p>This is equivalent to:</p>
<div class="highlight-python"><pre>def top(...):
    ...
    def _gen_func():
        &lt;generator body&gt;
    ...
    inst = _gen_func()
    ...
    return inst, ...</pre>
</div>
</dd></dl>

<dl class="function">
<dt id="myhdl.always">
<!--[myhdl.always]--><tt class="descclassname">myhdl.</tt><tt class="descname">always</tt><big>(</big><em>arg</em><span class="optional">[</span>, <em>*args</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.always" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a title="myhdl.always" class="reference" href="#myhdl.always"><tt class="xref docutils literal"><span class="pre">always()</span></tt></a> decorator is a specialized decorator that targets a widely
used coding pattern. It is used as follows:</p>
<div class="highlight-python"><pre>def top(...):
    ...
    @always(event1, event2, ...)
    def inst()
        &lt;body&gt;
    ...
    return inst, ...</pre>
</div>
<p>This is equivalent to the following:</p>
<div class="highlight-python"><pre>def top(...):
    ...
    def _func():
        &lt;body&gt;

    def _gen_func()
        while True:
            yield event1, event2, ...
            _func()
    ...
    inst = _gen_func()
    ...
    return inst, ...</pre>
</div>
<p>The argument list of the decorator corresponds to the sensitivity list. Only
signals, edge specifiers, or delay objects are allowed. The decorated function
should be a classic function.</p>
</dd></dl>

<dl class="function">
<dt id="myhdl.always_comb">
<!--[myhdl.always_comb]--><tt class="descclassname">myhdl.</tt><tt class="descname">always_comb</tt><big>(</big><big>)</big><a class="headerlink" href="#myhdl.always_comb" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a title="myhdl.always_comb" class="reference" href="#myhdl.always_comb"><tt class="xref docutils literal"><span class="pre">always_comb()</span></tt></a> decorator is used to describe combinatorial logic.</p>
<div class="highlight-python"><pre>def top(...):
    ...
    @always_comb
    def comb_inst():
        &lt;combinatorial body&gt;
    ...
    return comb_inst, ...</pre>
</div>
<p>The <a title="myhdl.always_comb" class="reference" href="#myhdl.always_comb"><tt class="xref docutils literal"><span class="pre">always_comb()</span></tt></a> decorator infers the inputs of the combinatorial logic
and the corresponding sensitivity list automatically. The decorated function
should be a classic function.</p>
</dd></dl>

</div>
<div class="section" id="the-intbv-class">
<span id="ref-intbv"></span><h3>The <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> class<a class="headerlink" href="#the-intbv-class" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="myhdl.intbv">
<!--[myhdl.intbv]-->class <tt class="descclassname">myhdl.</tt><tt class="descname">intbv</tt><big>(</big><span class="optional">[</span><em>val=None</em><span class="optional">]</span><span class="optional">[</span>, <em>min=None</em><span class="optional">]</span><span class="optional">[</span>, <em>max=None</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.intbv" title="Permalink to this definition">¶</a></dt>
<dd>This class represents <tt class="xref docutils literal"><span class="pre">int</span></tt>-like objects with some additional features
that make it suitable for hardware design. The <em>val</em> argument can be an
<tt class="xref docutils literal"><span class="pre">int</span></tt>, a <tt class="xref docutils literal"><span class="pre">long</span></tt>, an <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> or a bit string (a string with
only &#8216;0&#8217;s or &#8216;1&#8217;s). For a bit string argument, the value is calculated as in
<tt class="docutils literal"><span class="pre">int(bitstring,</span> <span class="pre">2)</span></tt>.  The optional <em>min</em> and <em>max</em> arguments can be used to
specify the minimum and maximum value of the <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> object. As in
standard Python practice for ranges, the minimum value is inclusive and the
maximum value is exclusive.</dd></dl>

<p>The minimum and maximum values of an <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> object are available as
attributes:</p>
<dl class="attribute">
<dt id="myhdl.intbv.min">
<!--[myhdl.intbv.min]--><tt class="descclassname">intbv.</tt><tt class="descname">min</tt><a class="headerlink" href="#myhdl.intbv.min" title="Permalink to this definition">¶</a></dt>
<dd>Read-only attribute that is the minimum value (inclusive) of an <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a>,
or <em>None</em> for no minimum.</dd></dl>

<dl class="attribute">
<dt id="myhdl.intbv.max">
<!--[myhdl.intbv.max]--><tt class="descclassname">intbv.</tt><tt class="descname">max</tt><a class="headerlink" href="#myhdl.intbv.max" title="Permalink to this definition">¶</a></dt>
<dd>Read-only attribute that is the maximum value (exclusive) of an <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a>,
or <em>None</em> for no  maximum.</dd></dl>

<dl class="method">
<dt id="myhdl.intbv.signed">
<!--[myhdl.intbv.signed]--><tt class="descclassname">intbv.</tt><tt class="descname">signed</tt><big>(</big><big>)</big><a class="headerlink" href="#myhdl.intbv.signed" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpretes the msb bit as as sign bit and extends it into the higher-order
bits of the underlying object value. The msb bit is the highest-order bit
within the object&#8217;s bit width.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Unlike <tt class="xref docutils literal"><span class="pre">int</span></tt> objects, <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> objects are mutable; this is also
the reason for their existence. Mutability is needed to support assignment to
indexes and slices, as is common in hardware design. For the same reason,
<a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> is not a subclass from <tt class="xref docutils literal"><span class="pre">int</span></tt>, even though <tt class="xref docutils literal"><span class="pre">int</span></tt>
provides most of the desired functionality. (It is not possible to derive a
mutable subtype from an immutable base type.)</p>
<p>An <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> object supports the same comparison, numeric, bitwise,
logical, and conversion operations as <tt class="xref docutils literal"><span class="pre">int</span></tt> objects. See
<a class="reference" href="http://www.python.org/doc/current/lib/typesnumeric.html">http://www.python.org/doc/current/lib/typesnumeric.html</a> for more information on
such operations. In all binary operations, <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> objects can work
together with <tt class="xref docutils literal"><span class="pre">int</span></tt> objects. For mixed-type numeric operations, the
result type is an <tt class="xref docutils literal"><span class="pre">int</span></tt> or a <tt class="xref docutils literal"><span class="pre">long</span></tt>. For mixed-type bitwise
operations, the result type is an <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a>.</p>
<p>In addition, <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> supports a number of sequence operators.
In particular, the <tt class="xref docutils literal"><span class="pre">len()</span></tt> function returns the object&#8217;s bit width. Furthermore,
<a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> objects support indexing and slicing operations:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="57%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Operation</th>
<th class="head">Result</th>
<th class="head">Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><tt class="docutils literal"><span class="pre">bv[i]</span></tt></td>
<td>item <em>i</em> of <em>bv</em></td>
<td>(1)</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">bv[i]</span> <span class="pre">=</span> <span class="pre">x</span></tt></td>
<td>item <em>i</em> of <em>bv</em> is replaced by
<em>x</em></td>
<td>(1)</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">bv[i:j]</span></tt></td>
<td>slice of <em>bv</em> from <em>i</em> downto
<em>j</em></td>
<td>(2)(3)</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">bv[i:j]</span> <span class="pre">=</span> <span class="pre">t</span></tt></td>
<td>slice of <em>bv</em> from <em>i</em> downto
<em>j</em> is replaced by <em>t</em></td>
<td>(2)(4)</td>
</tr>
</tbody>
</table>
<ol class="arabic simple">
<li>Indexing follows the most common hardware design conventions: the lsb bit is the
rightmost bit, and it has index 0. This has the following desirable property: if
the <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> value is decomposed as a sum of powers of 2, the bit with
index <em>i</em> corresponds to the term <tt class="docutils literal"><span class="pre">2**i</span></tt>.</li>
<li>In contrast to standard Python sequencing conventions, slicing range are
downward. This is a consequence of the indexing convention, combined with the
common convention that the most significant digits of a number are the leftmost
ones. The Python convention of half-open ranges is followed: the bit with the
highest index is not included. However, it is the <em>leftmost</em> bit in this case.
As in standard Python, this takes care of one-off issues in many practical
cases: in particular, <tt class="docutils literal"><span class="pre">bv[i:]</span></tt> returns <em>i</em> bits; <tt class="docutils literal"><span class="pre">bv[i:j]</span></tt> has <tt class="docutils literal"><span class="pre">i-j</span></tt> bits.
When the low index <em>j</em> is omitted, it defaults to <tt class="docutils literal"><span class="pre">0</span></tt>. When the high index <em>i</em>
is omitted, it means &#8220;all&#8221; higher order bits.</li>
<li>The object returned from a slicing access operation is always a positive
<a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a>; higher order bits are implicitly assumed to be zero. The bit
width is implicitly stored in the return object, so that it can be used in
concatenations and as an iterator. In addition, for a bit width w, the <em>min</em> and
<em>max</em> attributes are implicitly set to <tt class="docutils literal"><span class="pre">0</span></tt> and <tt class="docutils literal"><span class="pre">2**w</span></tt>, respectively.</li>
<li>When setting a slice to a value, it is checked whether the slice is wide enough.</li>
</ol>
<p>In addition, an <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> object supports the iterator protocol. This makes
it possible to iterate over all its bits, from the high index to index 0. This
is only possible for <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> objects with a defined bit width.</p>
</div>
<div class="section" id="miscellaneous-modeling-support-functions">
<span id="ref-model-misc"></span><h3>Miscellaneous modeling support functions<a class="headerlink" href="#miscellaneous-modeling-support-functions" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="myhdl.bin">
<!--[myhdl.bin]--><tt class="descclassname">myhdl.</tt><tt class="descname">bin</tt><big>(</big><em>num</em><span class="optional">[</span>, <em>width</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a bit string representation. If the optional <em>width</em> is provided, and if
it is larger than the width of the default representation, the bit string is
padded with the sign bit.</p>
<p>This function complements the standard Python conversion functions <tt class="docutils literal"><span class="pre">hex</span></tt> and
<tt class="docutils literal"><span class="pre">oct</span></tt>. A binary string representation is often useful in hardware design.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="myhdl.concat">
<!--[myhdl.concat]--><tt class="descclassname">myhdl.</tt><tt class="descname">concat</tt><big>(</big><em>base</em><span class="optional">[</span>, <em>arg ...</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.concat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> object formed by concatenating the arguments.</p>
<p>The following argument types are supported: <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> objects with a
defined bit width, <tt class="xref docutils literal"><span class="pre">bool</span></tt> objects, signals of the previous objects, and
bit strings. All these objects have a defined bit width. The first argument
<em>base</em> is special as it doesn&#8217;t need to have a defined bit width. In addition to
the previously mentioned objects, unsized <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a>, <tt class="xref docutils literal"><span class="pre">int</span></tt> and
<tt class="xref docutils literal"><span class="pre">long</span></tt> objects are supported, as well as signals of such objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="myhdl.downrange">
<!--[myhdl.downrange]--><tt class="descclassname">myhdl.</tt><tt class="descname">downrange</tt><big>(</big><em>high</em><span class="optional">[</span>, <em>low=0</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.downrange" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a downward range list of integers.</p>
<p>This function is modeled after the standard <tt class="docutils literal"><span class="pre">range</span></tt> function, but works in the
downward direction. The returned interval is half-open, with the <em>high</em> index
not included. <em>low</em> is optional and defaults to zero.  This function is
especially useful in conjunction with the <a title="myhdl.intbv" class="reference" href="#myhdl.intbv"><tt class="xref docutils literal"><span class="pre">intbv</span></tt></a> class, that also works
with downward indexing.</p>
</dd></dl>

<dl class="function">
<dt id="myhdl.enum">
<!--[myhdl.enum]--><tt class="descclassname">myhdl.</tt><tt class="descname">enum</tt><big>(</big><em>arg</em><span class="optional">[</span>, <em>arg ...</em><span class="optional">]</span><span class="optional">[</span>, <em>encoding='binary'</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.enum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an enumeration type.</p>
<p>The arguments should be string literals that represent the desired names of the
enumeration type attributes.  The returned type should be assigned to a type
name.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t_EnumType</span> <span class="o">=</span> <span class="n">enum</span><span class="p">(</span><span class="s">&#39;ATTR_NAME_1&#39;</span><span class="p">,</span> <span class="s">&#39;ATTR_NAME_2&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>The enumeration type identifiers are available as attributes of the type name,
for example: <tt class="docutils literal"><span class="pre">t_EnumType.ATTR_NAME_1</span></tt></p>
<p>The optional keyword argument <em>encoding</em> specifies the encoding scheme used in
Verilog output. The available encodings are <tt class="docutils literal"><span class="pre">'binary'</span></tt>, <tt class="docutils literal"><span class="pre">'one_hot'</span></tt>, and
<tt class="docutils literal"><span class="pre">'one_cold'</span></tt>.</p>
</dd></dl>

<dl class="function">
<dt id="myhdl.instances">
<!--[myhdl.instances]--><tt class="descclassname">myhdl.</tt><tt class="descname">instances</tt><big>(</big><big>)</big><a class="headerlink" href="#myhdl.instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks up all MyHDL instances in the local name space and returns them in a list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="co-simulation">
<span id="ref-cosim"></span><h2>Co-simulation<a class="headerlink" href="#co-simulation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="myhdl">
<span id="ref-cosim-myhdl"></span><h3>MyHDL<a class="headerlink" href="#myhdl" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="myhdl.Cosimulation">
<!--[myhdl.Cosimulation]-->class <tt class="descclassname">myhdl.</tt><tt class="descname">Cosimulation</tt><big>(</big><em>exe</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#myhdl.Cosimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to construct a new Cosimulation object.</p>
<p>The <em>exe</em> argument is a command string to execute an HDL simulation. The
<em>kwargs</em> keyword arguments provide a named association between signals (regs &amp;
nets) in the HDL simulator and signals in the MyHDL simulator. Each keyword
should be a name listed in a <tt class="docutils literal"><span class="pre">$to_myhdl</span></tt> or <tt class="docutils literal"><span class="pre">$from_myhdl</span></tt> call in the HDL
code. Each argument should be a <a title="myhdl.Signal" class="reference" href="#myhdl.Signal"><tt class="xref docutils literal"><span class="pre">Signal</span></tt></a> declared in the MyHDL code.</p>
</dd></dl>

</div>
<div class="section" id="verilog">
<span id="ref-cosim-verilog"></span><h3>Verilog<a class="headerlink" href="#verilog" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt>
<tt class="descname">$to_myhdl(arg, [, arg ...])</tt></dt>
<dd>Task that defines which signals (regs &amp; nets) should be read by the MyHDL
simulator. This task should be called at the start of the simulation.</dd></dl>

<dl class="function">
<dt>
<tt class="descname">$from_myhdl(arg, [, arg ...])</tt></dt>
<dd>Task that defines which signals should be driven by the MyHDL simulator. In
Verilog, only regs can be specified. This task should be called at the start of
the simulation.</dd></dl>

</div>
</div>
<div class="section" id="conversion-to-verilog-and-vhdl">
<span id="ref-conv"></span><h2>Conversion to Verilog and VHDL<a class="headerlink" href="#conversion-to-verilog-and-vhdl" title="Permalink to this headline">¶</a></h2>
<div class="section" id="conversion">
<span id="ref-conv-conv"></span><h3>Conversion<a class="headerlink" href="#conversion" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="myhdl.toVerilog">
<!--[myhdl.toVerilog]--><tt class="descclassname">myhdl.</tt><tt class="descname">toVerilog</tt><big>(</big><em>func</em><span class="optional">[</span>, <em>*args</em><span class="optional">]</span><span class="optional">[</span>, <em>**kwargs</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.toVerilog" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a MyHDL design instance to equivalent Verilog code, and also generates
a test bench to verify it. <em>func</em> is a function that returns an instance.
<a title="myhdl.toVerilog" class="reference" href="#myhdl.toVerilog"><tt class="xref docutils literal"><span class="pre">toVerilog()</span></tt></a> calls <em>func</em> under its control and passes <em>*args</em> and
<em>**kwargs</em> to the call.</p>
<p>The return value is the same as would be returned by the call <tt class="docutils literal"><span class="pre">func(*args,</span>
<span class="pre">**kwargs)</span></tt>. It should be assigned to an instance name.</p>
<p>The top-level instance name and the basename of the Verilog output filename is
<tt class="docutils literal"><span class="pre">func.func_name</span></tt> by default.</p>
<p>For more information about the restrictions on convertible MyHDL code, see
section <a class="reference" href="conversion.html#conv-subset"><em>The convertible subset</em></a> in Chapter <a class="reference" href="conversion.html#conv"><em>Conversion to Verilog and VHDL</em></a>.</p>
</dd></dl>

<p><a title="myhdl.toVerilog" class="reference" href="#myhdl.toVerilog"><tt class="xref docutils literal"><span class="pre">toVerilog()</span></tt></a> has the following attribute:</p>
<dl class="attribute">
<dt id="myhdl.toVerilog.name">
<!--[myhdl.toVerilog.name]--><tt class="descclassname">toVerilog.</tt><tt class="descname">name</tt><a class="headerlink" href="#myhdl.toVerilog.name" title="Permalink to this definition">¶</a></dt>
<dd>This attribute is used to overwrite the default top-level instance name and the
basename of the Verilog output filename.</dd></dl>

<dl class="function">
<dt id="myhdl.toVHDL">
<!--[myhdl.toVHDL]--><tt class="descclassname">myhdl.</tt><tt class="descname">toVHDL</tt><big>(</big><em>func</em><span class="optional">[</span>, <em>*args</em><span class="optional">]</span><span class="optional">[</span>, <em>**kwargs</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.toVHDL" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a MyHDL design instance to equivalent VHDL
code. <em>func</em> is a function that returns an instance. <a title="toVHDL" class="reference" href="../whatsnew/0.6.html#toVHDL"><tt class="xref docutils literal"><span class="pre">toVHDL()</span></tt></a>
calls <em>func</em> under its control and passes <em>*args</em> and
<em>**kwargs</em> to the call.</p>
<p>The return value is the same as would be returned by the call
<tt class="docutils literal"><span class="pre">func(*args,</span> <span class="pre">**kwargs)</span></tt>. It can be assigned to an instance name.
The top-level instance name and the basename of the Verilog
output filename is <tt class="docutils literal"><span class="pre">func.func_name</span></tt> by default.</p>
</dd></dl>

<p><a title="toVHDL" class="reference" href="../whatsnew/0.6.html#toVHDL"><tt class="xref docutils literal"><span class="pre">toVHDL()</span></tt></a> has the following attributes:</p>
<dl class="attribute">
<dt id="myhdl.toVHDL.name">
<!--[myhdl.toVHDL.name]--><tt class="descclassname">toVHDL.</tt><tt class="descname">name</tt><a class="headerlink" href="#myhdl.toVHDL.name" title="Permalink to this definition">¶</a></dt>
<dd>This attribute is used to overwrite the default top-level
instance name and the basename of the VHDL output.</dd></dl>

<dl class="attribute">
<dt id="myhdl.toVHDL.component_declarations">
<!--[myhdl.toVHDL.component_declarations]--><tt class="descclassname">toVHDL.</tt><tt class="descname">component_declarations</tt><a class="headerlink" href="#myhdl.toVHDL.component_declarations" title="Permalink to this definition">¶</a></dt>
<dd>This attribute can be used to add component declarations to the
VHDL output. When a string is assigned to it, it will be copied
to the appropriate place in the output file.</dd></dl>

</div>
<div class="section" id="user-defined-verilog-and-vhdl-code">
<span id="ref-conv-user"></span><h3>User-defined Verilog and VHDL code<a class="headerlink" href="#user-defined-verilog-and-vhdl-code" title="Permalink to this headline">¶</a></h3>
<p>A user can insert user-defined code in the Verilog or VHDL output by using the
<tt class="docutils literal"><span class="pre">__verilog__</span></tt> or <tt class="docutils literal"><span class="pre">__vhdl__</span></tt> hook respectively.</p>
<dl class="data">
<dt id="myhdl.__verilog__">
<!--[myhdl.__verilog__]--><tt class="descclassname">myhdl.</tt><tt class="descname">__verilog__</tt><a class="headerlink" href="#myhdl.__verilog__" title="Permalink to this definition">¶</a></dt>
<dd>When defined within a function under elaboration, this
variable specifies user-defined code that should be used instead of Verilog converted
code for that function.  The user-defined code should be a Python format string
that uses keys to refer to the variables that should be interpolated in the
string. Any variable in the function context can be referred to.</dd></dl>

<dl class="data">
<dt id="myhdl.__vhdl__">
<!--[myhdl.__vhdl__]--><tt class="descclassname">myhdl.</tt><tt class="descname">__vhdl__</tt><a class="headerlink" href="#myhdl.__vhdl__" title="Permalink to this definition">¶</a></dt>
<dd>When defined within a function under elaboration, this
variable specifies user-defined code that should be used instead of VHDL converted
code for that function.  The user-defined code should be a Python format string
that uses keys to refer to the variables that should be interpolated in the
string. Any variable in the function context can be referred to.</dd></dl>

<p>These hooks cannot be used inside generator functions or decorated local
functions, as these are not elaborated. In other words, they should be used
in functions that define structure.</p>
</div>
</div>
<div class="section" id="module-myhdl.conversion">
<h2>Conversion output verification<a class="headerlink" href="#module-myhdl.conversion" title="Permalink to this headline">¶</a></h2>
<div class="section" id="verification-interface">
<h3>Verification interface<a class="headerlink" href="#verification-interface" title="Permalink to this headline">¶</a></h3>
<p>All functions related to conversion verification are implemented in
the <tt class="xref docutils literal"><span class="pre">myhdl.conversion</span></tt> package.</p>
<dl class="function">
<dt id="myhdl.conversion.verify">
<!--[myhdl.conversion.verify]--><tt class="descclassname">myhdl.conversion.</tt><tt class="descname">verify</tt><big>(</big><em>func</em><span class="optional">[</span>, <em>*args</em><span class="optional">]</span><span class="optional">[</span>, <em>**kwargs</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.conversion.verify" title="Permalink to this definition">¶</a></dt>
<dd>Used like <a title="toVHDL" class="reference" href="../whatsnew/0.6.html#toVHDL"><tt class="xref docutils literal"><span class="pre">toVHDL()</span></tt></a>. It converts MyHDL code,
simulates both the MyHDL code and the HDL code and reports any
differences. The default HDL simulator is GHDL.</dd></dl>

<dl class="function">
<dt id="myhdl.conversion.analyze">
<!--[myhdl.conversion.analyze]--><tt class="descclassname">myhdl.conversion.</tt><tt class="descname">analyze</tt><big>(</big><em>func</em><span class="optional">[</span>, <em>*args</em><span class="optional">]</span><span class="optional">[</span>, <em>**kwargs</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#myhdl.conversion.analyze" title="Permalink to this definition">¶</a></dt>
<dd>Used like <a title="toVHDL" class="reference" href="../whatsnew/0.6.html#toVHDL"><tt class="xref docutils literal"><span class="pre">toVHDL()</span></tt></a>. It converts MyHDL code, and analyzes the
resulting HDL.
Used to verify whether the HDL output is syntactically correct.</dd></dl>

<p>The two previous functions have the following attribute:</p>
<dl class="attribute">
<dt id="myhdl.conversion.analyze.simulator">
<!--[myhdl.conversion.analyze.simulator]--><tt class="descclassname">analyze.</tt><tt class="descname">simulator</tt><a class="headerlink" href="#myhdl.conversion.analyze.simulator" title="Permalink to this definition">¶</a></dt>
<dd>Used to set the name of the HDL analyzer. GHDL
is the default.</dd></dl>

<dl class="attribute">
<dt id="myhdl.conversion.verify.simulator">
<!--[myhdl.conversion.verify.simulator]--><tt class="descclassname">verify.</tt><tt class="descname">simulator</tt><a class="headerlink" href="#myhdl.conversion.verify.simulator" title="Permalink to this definition">¶</a></dt>
<dd>Used to set the name of the HDL simulator. GHDL
is the default.</dd></dl>

</div>
<div class="section" id="hdl-simulator-registration">
<h3>HDL simulator registration<a class="headerlink" href="#hdl-simulator-registration" title="Permalink to this headline">¶</a></h3>
<p>To be able to use a HDL simulator to verify conversions, it needs to
be registered first. This is needed once per simulator (or rather, per
set of analysis and simulation commands). Registering is done with the
following function:</p>
<dl class="function">
<dt id="myhdl.conversion.registerSimulator">
<!--[myhdl.conversion.registerSimulator]--><tt class="descclassname">myhdl.conversion.</tt><tt class="descname">registerSimulator</tt><big>(</big><em>name=None</em>, <em>hdl=None</em>, <em>analyze=None</em>, <em>elaborate=None</em>, <em>simulate=None</em>, <em>offset=0</em><big>)</big><a class="headerlink" href="#myhdl.conversion.registerSimulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a particular HDL simulator to be used by  <a title="verify" class="reference" href="../whatsnew/0.6.html#verify"><tt class="xref docutils literal"><span class="pre">verify()</span></tt></a>
and <a title="analyze" class="reference" href="../whatsnew/0.6.html#analyze"><tt class="xref docutils literal"><span class="pre">analyze()</span></tt></a>. <em>name</em> is the name of the simulator.
<em>hdl</em> specifies the HDL: <tt class="docutils literal"><span class="pre">&quot;VHDL&quot;</span></tt> or <tt class="docutils literal"><span class="pre">&quot;Verilog&quot;</span></tt>.
<em>analyze</em> is a command string to analyze the HDL source code.
<em>elaborate</em> is a command string to elaborate the HDL
code. This command is optional.
<em>simulate</em> is a command string to simulate the HDL code.
<em>offset</em> is an integer specifying the number of initial lines to be ignored
from the HDL simulator output.</p>
<p>The command strings should be string templates that refer to the
<tt class="docutils literal"><span class="pre">topname</span></tt> variable that specifies the design name. The templates
can also use the <tt class="docutils literal"><span class="pre">unitname</span></tt> variable which is the lower case
version of <tt class="docutils literal"><span class="pre">topname</span></tt>.
The command strings can assume that a subdirectory called
<tt class="docutils literal"><span class="pre">work</span></tt> is available in the current working directory. Analysis and
elaboration results can be put there if desired.</p>
<p>The <a title="analyze" class="reference" href="../whatsnew/0.6.html#analyze"><tt class="xref docutils literal"><span class="pre">analyze()</span></tt></a> function uses the <em>analyze</em> command.
The <a title="verify" class="reference" href="../whatsnew/0.6.html#verify"><tt class="xref docutils literal"><span class="pre">verify()</span></tt></a> function uses the <em>analyze</em> command, then the
<em>elaborate</em> command if any, and then the <em>simulate</em> command.</p>
</dd></dl>

</div>
<div class="section" id="preregistered-hdl-simulators">
<h3>Preregistered HDL simulators<a class="headerlink" href="#preregistered-hdl-simulators" title="Permalink to this headline">¶</a></h3>
<p>A number of open-source HDL simulators are preregistered in the
MyHDL distribution, as follows:</p>
<div class="section" id="ghdl">
<h4>GHDL<a class="headerlink" href="#ghdl" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="n">registerSimulator</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">&quot;GHDL&quot;</span><span class="p">,</span>
    <span class="n">hdl</span><span class="o">=</span><span class="s">&quot;VHDL&quot;</span><span class="p">,</span>
    <span class="n">analyze</span><span class="o">=</span><span class="s">&quot;ghdl -a --workdir=work pck_myhdl_</span><span class="si">%(version)s</span><span class="s">.vhd </span><span class="si">%(topname)s</span><span class="s">.vhd&quot;</span><span class="p">,</span>
    <span class="n">elaborate</span><span class="o">=</span><span class="s">&quot;ghdl -e --workdir=work -o </span><span class="si">%(unitname)s</span><span class="s">_ghdl </span><span class="si">%(topname)s</span><span class="s">&quot;</span><span class="p">,</span>
    <span class="n">simulate</span><span class="o">=</span><span class="s">&quot;ghdl -r </span><span class="si">%(unitname)s</span><span class="s">_ghdl&quot;</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="icarus">
<h4>Icarus<a class="headerlink" href="#icarus" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="n">registerSimulator</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">&quot;icarus&quot;</span><span class="p">,</span>
    <span class="n">hdl</span><span class="o">=</span><span class="s">&quot;Verilog&quot;</span><span class="p">,</span>
    <span class="n">analyze</span><span class="o">=</span><span class="s">&quot;iverilog -o </span><span class="si">%(topname)s</span><span class="s">.o </span><span class="si">%(topname)s</span><span class="s">.v&quot;</span><span class="p">,</span>
    <span class="n">simulate</span><span class="o">=</span><span class="s">&quot;vvp </span><span class="si">%(topname)s</span><span class="s">.o&quot;</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="cver">
<h4>cver<a class="headerlink" href="#cver" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="n">registerSimulator</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">&quot;cver&quot;</span><span class="p">,</span>
    <span class="n">hdl</span><span class="o">=</span><span class="s">&quot;Verilog&quot;</span><span class="p">,</span>
    <span class="n">analyze</span><span class="o">=</span><span class="s">&quot;cver -c -q </span><span class="si">%(topname)s</span><span class="s">.v&quot;</span><span class="p">,</span>
    <span class="n">simulate</span><span class="o">=</span><span class="s">&quot;cver -q </span><span class="si">%(topname)s</span><span class="s">.v&quot;</span><span class="p">,</span>
    <span class="n">offset</span><span class="o">=</span><span class="mf">3</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="conversion_examples.html" title="Conversion examples"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">MyHDL v0.6 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">The MyHDL manual</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008, Jan Decaluwe.
      Last updated on Jan 08, 2009.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.
    </div>
  </body>
</html>